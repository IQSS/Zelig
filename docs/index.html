<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Everyone's Statistical Software • Zelig</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Zelig</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<!--- Badges ----->
<p><strong>Release:</strong> <a href="http://cran.r-project.org/package=Zelig"><img src="http://www.r-pkg.org/badges/version/Zelig" alt="CRAN Version"></a> <img src="http://cranlogs.r-pkg.org/badges/last-month/Zelig" alt="CRAN Monthly Downloads"><img src="http://cranlogs.r-pkg.org/badges/grand-total/Zelig" alt="CRAN Total Downloads"></p>
<p><strong>Development:</strong> <a href="https://travis-ci.org/IQSS/Zelig"><img src="https://travis-ci.org/IQSS/Zelig.svg?branch=master" alt="Travis (LINUX) Build Status"></a> <a href="https://ci.appveyor.com/project/IQSS/Zelig"><img src="https://ci.appveyor.com/api/projects/status/github/IQSS/Zelig?branch=master&amp;svg=true" alt="AppVeyor (Windows) Build Status"></a> <a href="https://codecov.io/gh/IQSS/Zelig"><img src="https://codecov.io/gh/IQSS/Zelig/branch/master/graph/badge.svg" alt="codecov"></a> <a href="https://waffle.io/iqss/zelig"><img src="https://badge.waffle.io/iqss/zelig.svg?label=development" alt="Pull requests waiting for review"></a> <a href="https://gitter.im/Zelig-dev/Lobby?utm_source=share-link&amp;utm_medium=link&amp;utm_campaign=share-link"><img src="https://badges.gitter.im/Zelig-dev/gitter.png" alt="Gitter chat"></a> <a href="https://medium.com/zelig-dev">Dev-Blog</a></p>
<p>Zelig is an easy-to-use, free, open source, general purpose statistics program for estimating, interpreting, and presenting results from any statistical method. Zelig turns the power of R, with thousands of open source packages — but with free ranging syntax, diverse examples, and documentation written for different audiences — into the same three commands and consistent documentation for every method. Zelig uses R code from many researchers, making it “everyone’s statistical software.” We hope it becomes everyone’s statistical software for applications too, as we designed it so anyone can use it or add their methods to it. We aim for Zelig to be the best way to do analysis, prepare replication files, learn new methods, or teach.</p>
<p>Project page and publications available at: <a href="http://zeligproject.org" class="uri">http://zeligproject.org</a>.</p>
<div id="zelig-5" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#zelig-5" class="anchor"> </a>Zelig 5</h1></div>
<p>The release of Zelig 5.0 expands the set of models available, while simplifying the model wrapping process, and solving architectural problems by completely rewriting into R’s Reference Classes for a fully object-oriented architecture. Comparability wrappers are available so that you can still use pre-Zelig 5 syntax.</p>
<div id="zelig-5-workflow-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#zelig-5-workflow-overview" class="anchor"> </a>Zelig 5 workflow overview</h2>
<p>All models in Zelig 5 can be estimated and results explored presented using a five simple steps:</p>
<ul>
<li><p>Initialise the Zelig object, e.g with <code>z.out &lt;- zls$new()</code> for a least squares model. Then populate the object with:</p></li>
<li><p><code>zelig</code> to estimate the parameters,</p></li>
<li><p><code>setx</code> to set fitted values for which we want to find quantities of interest,</p></li>
<li><p><code>sim</code> to simulate the quantities of interest,</p></li>
<li><p><code>graph</code> to plot the simulation results.</p></li>
</ul>
<div id="differences-from-zelig-4-and-backwards-compatability" class="section level3">
<h3 class="hasAnchor">
<a href="#differences-from-zelig-4-and-backwards-compatability" class="anchor"> </a>Differences from Zelig 4 and backwards compatability</h3>
<p>Zelig 5 uses <a href="http://adv-r.had.co.nz/R5.html">reference classes</a> which work a bit differently from what you may expect in R. The big difference is that they are “mutable”, i.e. assigning values to them does not overwrite the objects previous contents.</p>
<p>Zelig 5 does contain wrappers (largely) allowing you to use Zelig 4 syntax if you’ld like.</p>
</div>
</div>
<div id="zelig-5-quickstart-guide" class="section level2">
<h2 class="hasAnchor">
<a href="#zelig-5-quickstart-guide" class="anchor"> </a>Zelig 5 Quickstart Guide</h2>
<p>Let’s walk through an example. This example uses the swiss dataset. It contains data on fertility and socioeconomic factors in Switzerland’s 47 French-speaking provinces in 1888 (Mosteller and Tukey, 1977, 549-551). We will model the effect of education on fertility, where education is measured as the percent of draftees with education beyond primary school and fertility is measured using the common standardized fertility measure (see Muehlenbein (2010, 80-81) for details).</p>
</div>
<div id="installing-and-loading-zelig" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-and-loading-zelig" class="anchor"> </a>Installing and Loading Zelig</h2>
<p>If you haven’t already done so, open your R console and install Zelig:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">'Zelig'</span>)</code></pre></div>
<p>Alternatively you can install the development version with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">'IQSS/Zelig'</span>)</code></pre></div>
<p>Once Zelig is installed, load it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Zelig)</code></pre></div>
</div>
<div id="building-models" class="section level2">
<h2 class="hasAnchor">
<a href="#building-models" class="anchor"> </a>Building Models</h2>
<p>Let’s assume we want to estimate the effect of education on fertility. Since fertility is a continuous variable, least squares is an appropriate model choice. We first create a Zelig least squares object:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># initialize Zelig5 least squares object</span>
z5 &lt;-<span class="st"> </span>zls$<span class="kw">new</span>()</code></pre></div>
<p>To estimate our model, we call the <code><a href="reference/zelig.html">zelig()</a></code> method, which is a function that is internal to the Zelig object. We pass the <code><a href="reference/zelig.html">zelig()</a></code> method two arguments: equation and data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># estimate ls model</span>
z5$<span class="kw"><a href="reference/zelig.html">zelig</a></span>(Fertility ~<span class="st"> </span>Education, <span class="dt">data =</span> swiss)

<span class="co"># model summary</span>
<span class="kw">summary</span>(z5)</code></pre></div>
<pre><code>## Model: 
## 
## Call:
## z5$zelig(formula = Fertility ~ Education, data = swiss)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -17.036  -6.711  -1.011   9.526  19.689 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept)  79.6101     2.1041  37.836  &lt; 2e-16
## Education    -0.8624     0.1448  -5.954 3.66e-07
## 
## Residual standard error: 9.446 on 45 degrees of freedom
## Multiple R-squared:  0.4406, Adjusted R-squared:  0.4282 
## F-statistic: 35.45 on 1 and 45 DF,  p-value: 3.659e-07
## 
## Next step: Use 'setx' method</code></pre>
<p>The -0.8624 coefficient on education suggests a negative relationship between the education of a province and its fertility rate. More precisely, for every one percent increase in draftees educated beyond primary school, the fertility rate of the province decreases 0.8624 units. To help us better interpret this finding, we may want other quantities of interest, such as expected values or first differences. Zelig makes this simple by automating the translation of model estimates into interpretable quantities of interest using Monte Carlo simulation methods (see King, Tomz, and Wittenberg (2000) for more information). For example, let’s say we want to examine the effect of increasing the percent of draftees educated from 5 to 15. To do so, we set our predictor value using the <code><a href="reference/setx.html">setx()</a></code> method:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set education to 5</span>
z5$<span class="kw"><a href="reference/setx.html">setx</a></span>(<span class="dt">Education =</span> <span class="dv">5</span>)

<span class="co"># set education to 15</span>
z5$<span class="kw">setx1</span>(<span class="dt">Education =</span> <span class="dv">15</span>)

<span class="co"># model summary</span>
<span class="kw">summary</span>(z5)</code></pre></div>
<pre><code>## setx:
##   (Intercept) Education
## 1           1         5
## setx1:
##   (Intercept) Education
## 1           1        15
## 
## Next step: Use 'sim' method</code></pre>
<p>After setting our predictor value, we simulate using the <code><a href="reference/sim.html">sim()</a></code> method:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># run simulations and estimate quantities of interest</span>
z5$<span class="kw"><a href="reference/sim.html">sim</a></span>()

<span class="co"># model summary</span>
<span class="kw">summary</span>(z5)</code></pre></div>
<pre><code>## 
##  sim x :
##  -----
## ev
##       mean       sd      50%     2.5%    97.5%
## 1 75.19394 1.678848 75.21581 72.16943 78.42853
## pv
##          mean       sd      50%     2.5%    97.5%
## [1,] 75.10596 9.630989 74.70884 55.96896 94.42575
## 
##  sim x1 :
##  -----
## ev
##       mean       sd      50%     2.5%    97.5%
## 1 66.59845 1.491682 66.56905 63.73312 69.45346
## pv
##         mean       sd      50%     2.5%    97.5%
## [1,] 67.1412 9.620558 67.20849 48.53369 85.89975
## fd
##        mean       sd       50%      2.5%     97.5%
## 1 -8.595489 1.477379 -8.544995 -11.41773 -5.666277</code></pre>
<p>At this point, we’ve estimated a model, set the predictor value, and estimated easily interpretable quantities of interest. The <code>summary()</code> method shows us our quantities of interest, namely, our expected and predicted values at each level of education, as well as our first differences–the difference in expected values at the set levels of education.</p>
</div>
</div>
<div id="visualizations" class="section level1">
<h1 class="hasAnchor">
<a href="#visualizations" class="anchor"> </a>Visualizations</h1>
<p>Zelig’s <code>graph()</code> method plots the estimated quantities of interest:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z5$<span class="kw">graph</span>()</code></pre></div>
<p><img src="index_files/figure-html/example_plot_graph-1.png" width="672"></p>
<p>We can also simulate and plot simulations from ranges of simulated values. For example, first use the <code>setrange</code> method to set a range of fitted values for one of the covariates and draw simulations as before:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z5 &lt;-<span class="st"> </span>zls$<span class="kw">new</span>()
z5$<span class="kw"><a href="reference/zelig.html">zelig</a></span>(Fertility ~<span class="st"> </span>Education, <span class="dt">data =</span> swiss)

<span class="co"># set Education to range from 5 to 15 at single integer increments</span>
z5$<span class="kw">setrange</span>(<span class="dt">Education =</span> <span class="dv">5</span>:<span class="dv">15</span>)

<span class="co"># run simulations and estimate quantities of interest</span>
z5$<span class="kw"><a href="reference/sim.html">sim</a></span>()</code></pre></div>
<p>Then use the <code>graph()</code> method as before:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z5$<span class="kw">graph</span>()</code></pre></div>
<p><img src="index_files/figure-html/example_plot_ci_plot-1.png" width="480"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=Zelig">https://​cran.r-project.org/​package=Zelig</a>
</li>
<li>Report a bug at <br><a href="https://github.com/IQSS/Zelig/issues">https://​github.com/​IQSS/​Zelig/​issues</a>
</li>
</ul>
<h2>License</h2>
<p>GPL (&gt;=3)</p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Christine. Choirat <br><small class="roles"> Author </small> </li>
<li>Christopher Gandrud <br><small class="roles"> Author, maintainer </small> </li>
<li>James Honaker <br><small class="roles"> Author </small> </li>
<li>Kosuke Imai <br><small class="roles"> Author </small> </li>
<li>Gary King <br><small class="roles"> Author </small> </li>
<li>Olivia Lau <br><small class="roles"> Author </small> </li>
</ul>
<html><body>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://zeligproject.org"><img src="README_files/img/zelig.png" alt="zelig-logo"></a></li>
</ul>
</body></html>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Christine. Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, Olivia Lau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
