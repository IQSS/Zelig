<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ARIMA â€¢ Zelig</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Zelig Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html#section-zelig-overview">Zelig Overview</a>
    </li>
    <li>
      <a href="../articles/index.html#section-core-zelig-model-details">Zelig Model Details</a>
    </li>
    <li>
      <a href="../articles/index.html#section-other">Other</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Function Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html#section-main-zelig-workflow">Workflow</a>
    </li>
    <li>
      <a href="../reference/index.html#section-estimation-methods">Estimation Methods</a>
    </li>
    <li>
      <a href="../reference/index.html#section-exterior-interaction-functions">Interacting Outside of Zelig</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/about.html">Contact/Development Team/Citation</a>
    </li>
    <li>
      <a href="../articles/roadmap.html">Development Roadmap</a>
    </li>
    <li>
      <a href="https://iqss.github.io/rpackagemetrics/">Zelig Adoption Metrics</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/IQSS/Zelig/master/.iqss_reportcard.yml">Statistical Software Devepment Reportcard</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://medium.com/zelig-dev/archive">
    <span class="fa fa-medium"></span>
     
    Dev-Blog
  </a>
</li>
<li>
  <a href="https://twitter.com/zeligproject">
    <span class="fa fa-twitter fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/IQSS/Zelig">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>ARIMA</h1>
            
            <h4 class="date">2017-06-06</h4>
          </div>

    
    
<div class="contents">
<p><em>Built using Zelig version 5.1.1.90000</em></p>
<hr>
<p>Autoregressive and Moving-Average Models with Integration for Time-Series Data</p>
<div id="syntax" class="section level2">
<h2 class="hasAnchor">
<a href="#syntax" class="anchor"></a>Syntax</h2>
<p>With the Zelig 4 compatibility wrappers:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(Y <span class="op">~</span><span class="st"> </span>X1 <span class="op">+</span><span class="st"> </span>X2, <span class="dt">order =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="dt">model =</span> <span class="st">"arima"</span>, <span class="dt">data =</span> mydata)
x.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/setx.html">setx</a></span>(z.out)
s.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sim.html">sim</a></span>(z.out, <span class="dt">x =</span> x.out)</code></pre></div>
<div id="additional-inputs" class="section level3">
<h3 class="hasAnchor">
<a href="#additional-inputs" class="anchor"></a>Additional Inputs</h3>
<p>In addition, Zelig accepts the following additional inputs for <code>arima</code> to specify variables that provide the time index and any cross-sectional element if there are multiple time-series in the same dataset:</p>
<ul>
<li><p><code>ts</code>: Name of a variable that denotes the time element of the data. As a variable name, this should be in quotes. If this is not provided, Zelig will assume that the data is already ordered by time, but if provided, the dataset will be sorted by this variable before estimation.</p></li>
<li><p><code>cs</code>: Name of a variable that denotes the cross-sectional element of the data, for example, country name in a dataset with time-series across different countries. As a variable name, this should be in quotes. If this is not provided, Zelig will assume that all observations come from the same unit over time, and should be pooled, but if provided, individual models will be run in each cross-section. If <code>cs</code> is given as an argument, <code>ts</code> must also be provided.</p></li>
</ul>
</div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div id="single-series" class="section level3">
<h3 class="hasAnchor">
<a href="#single-series" class="anchor"></a>Single Series</h3>
<p>Attach sample data, which has left party seat share and unemployment across time in several countries. We will subset to just those observations from the United Kingdom:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(seatshare)
subset &lt;-<span class="st"> </span>seatshare[seatshare<span class="op">$</span>country <span class="op">==</span><span class="st"> "UNITED KINGDOM"</span>,]</code></pre></div>
<p>Estimate model:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ts.out &lt;-<span class="st"> </span>zarima<span class="op">$</span><span class="kw">new</span>()
ts.out<span class="op">$</span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(unemp <span class="op">~</span><span class="st"> </span>leftseat, <span class="dt">order =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">data =</span> subset)</code></pre></div>
<p>Summarize estimated model parameters:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(ts.out)</code></pre></div>
<pre><code>## Model: 
## 
## Call:
## ts.out$zelig(formula = unemp ~ leftseat, data = subset, order = c(1, 0, 1))
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.9028  0.8365     6.5782   -4.0245
## s.e.  0.0606  0.0986     1.9840    1.6622
## 
## sigma^2 estimated as 0.527:  log likelihood = -44.85,  aic = 99.71
## Next step: Use 'setx' method</code></pre>
<p>Next we simulate what happens when leftseat share drops from a moderately high level of 75 percent, to a rather low level of 25 percent:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ts.out<span class="op">$</span><span class="kw"><a href="../reference/setx.html">setx</a></span>(<span class="dt">leftseat =</span> <span class="fl">0.75</span>)
ts.out<span class="op">$</span><span class="kw"><a href="../reference/setx1.html">setx1</a></span>(<span class="dt">leftseat =</span> <span class="fl">0.25</span>)
ts.out<span class="op">$</span><span class="kw"><a href="../reference/sim.html">sim</a></span>()</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(ts.out)</code></pre></div>
<div class="figure">
<img src="zelig_arima_files/figure-html/Zelig-arima-1.png" alt="Graphs of Quantities of Interest for ARIMA models" width="672"><p class="caption">
Graphs of Quantities of Interest for ARIMA models
</p>
</div>
</div>
<div id="multiple-series" class="section level3">
<h3 class="hasAnchor">
<a href="#multiple-series" class="anchor"></a>Multiple Series</h3>
<p>The dataset contains similar series for 11 different OECD countries, and we could run the same model on each countryâ€™s data. Here we need to specify the <code>ts</code> and <code>cs</code> arguments to identify the names of variables that give the time and cross-section of each observation in the dataset</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ts.out2 &lt;-<span class="st"> </span>zarima<span class="op">$</span><span class="kw">new</span>()
ts.out2<span class="op">$</span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(unemp <span class="op">~</span><span class="st"> </span>leftseat, <span class="dt">order =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">ts =</span> <span class="st">"year"</span>,
              <span class="dt">cs =</span> <span class="st">"country"</span>, <span class="dt">data =</span> seatshare)
<span class="kw">summary</span>(ts.out2)</code></pre></div>
<pre><code>## Model: 
## $country
## [1] "AUSTRALIA"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.8849  0.5030     5.5878    0.5572
## s.e.  0.0807  0.1693     1.9419    2.0036
## 
## sigma^2 estimated as 0.8582:  log likelihood = -44.24,  aic = 98.47
## Model: 
## $country
## [1] "AUSTRIA"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.9553  0.7052     4.0325    1.5252
## s.e.  0.0395  0.1912     2.9062    5.3451
## 
## sigma^2 estimated as 0.1231:  log likelihood = -16.57,  aic = 43.14
## Model: 
## $country
## [1] "CANADA"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.8433  0.4100     7.7866   -0.3316
## s.e.  0.0819  0.1538     1.3222    1.4821
## 
## sigma^2 estimated as 0.7389:  log likelihood = -50.45,  aic = 110.89
## Model: 
## $country
## [1] "FINLAND"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##         ar1     ma1  intercept  leftseat
##       0.924  0.4631   -11.5415   21.2130
## s.e.  0.057  0.1089     8.8316   10.1507
## 
## sigma^2 estimated as 1.656:  log likelihood = -66.61,  aic = 143.23
## Model: 
## $country
## [1] "FRANCE"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.9850  0.4634     6.7010   -0.5321
## s.e.  0.0189  0.1666     4.1873    0.8049
## 
## sigma^2 estimated as 0.3057:  log likelihood = -31.18,  aic = 72.36
## Model: 
## $country
## [1] "ITALY"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.9613  0.5843    10.4435   -4.3455
## s.e.  0.0370  0.1384     2.5518    3.3636
## 
## sigma^2 estimated as 0.2537:  log likelihood = -30.54,  aic = 71.07
## Model: 
## $country
## [1] "NORWAY"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.8572  0.5438     5.4875   -5.3044
## s.e.  0.0890  0.1484     3.2045    6.3460
## 
## sigma^2 estimated as 0.2459:  log likelihood = -20.6,  aic = 51.19
## Model: 
## $country
## [1] "SPAIN"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.9496  0.9999    12.9842    0.7673
## s.e.  0.0537  0.1213     5.9394    3.7856
## 
## sigma^2 estimated as 1.179:  log likelihood = -36.4,  aic = 82.8
## Model: 
## $country
## [1] "SWEDEN"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.8303  1.0000     9.2331   -9.6728
## s.e.  0.0843  0.0849     1.4452    1.7366
## 
## sigma^2 estimated as 0.2909:  log likelihood = -32.65,  aic = 75.31
## Model: 
## $country
## [1] "UNITED KINGDOM"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.9028  0.8365     6.5782   -4.0245
## s.e.  0.0606  0.0986     1.9840    1.6622
## 
## sigma^2 estimated as 0.527:  log likelihood = -44.85,  aic = 99.71
## Model: 
## $country
## [1] "UNITED STATES"
## 
## 
## Call:
## ts.out2$zelig(formula = unemp ~ leftseat, data = seatshare, order = c(1, 0, 
##     1), ts = "year", cs = "country")
## 
## Coefficients:
##          ar1     ma1  intercept  leftseat
##       0.6518  0.3493     3.8765    3.6727
## s.e.  0.1586  0.2534     2.6929    4.4801
## 
## sigma^2 estimated as 0.7245:  log likelihood = -45.83,  aic = 101.66
## Next step: Use 'setx' method</code></pre>
</div>
</div>
<div id="see-also" class="section level2">
<h2 class="hasAnchor">
<a href="#see-also" class="anchor"></a>See Also</h2>
<p>The estimator used for ARIMA models is part of the stats package by William N. Venables and Brian D. Ripley .In addition, advanced users may wish to refer to <code>help(arima)</code>.</p>
<p>R Core Team (2017). <em>R: A Language and Environment for Statistical Computing</em>. R Foundation for Statistical Computing, Vienna, Austria. &lt;URL: <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>&gt;.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#syntax">Syntax</a></li>
      <li><a href="#examples">Examples</a></li>
      <li><a href="#see-also">See Also</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, Olivia Lau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
