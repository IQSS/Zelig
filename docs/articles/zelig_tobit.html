<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tobit • Zelig</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Zelig Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html#section-zelig-overview">Zelig Overview</a>
    </li>
    <li>
      <a href="../articles/index.html#section-core-zelig-model-details">Zelig Model Details</a>
    </li>
    <li>
      <a href="../articles/index.html#section-other">Other</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Function Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html#section-main-zelig-workflow">Workflow</a>
    </li>
    <li>
      <a href="../reference/index.html#section-estimation-methods">Estimation Methods</a>
    </li>
    <li>
      <a href="../reference/index.html#section-exterior-interaction-functions">Interacting Outside of Zelig</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/about.html">Contact/Development Team/Citation</a>
    </li>
    <li>
      <a href="../articles/roadmap.html">Development Roadmap</a>
    </li>
    <li>
      <a href="https://iqss.github.io/rpackagemetrics/">Zelig Adoption Metrics</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/IQSS/Zelig/master/.iqss_reportcard.yml">Statistical Software Devepment Reportcard</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://medium.com/zelig-dev/archive">
    <span class="fa fa-medium"></span>
     
    Dev-Blog
  </a>
</li>
<li>
  <a href="https://twitter.com/zeligproject">
    <span class="fa fa-twitter fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/IQSS/Zelig">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Tobit</h1>
            
            <h4 class="date">2017-10-29</h4>
          </div>

    
    
<div class="contents">
<p><em>Built using Zelig version 5.1.4.90000</em></p>
<hr>
<p>Linear Regression for a Left-Censored Dependent Variable with <code>tobit</code>.</p>
<p>Tobit regression estimates a linear regression model for a left-censored dependent variable, where the dependent variable is censored from below. While the classical tobit model has values censored at 0, you may select another censoring point. For other linear regression models with fully observed dependent variables, see <a href="zelig_normalbayes.html">Bayesian regression</a>, <a href="zelig_normal.html">maximum likelihood normal regression</a>, and <a href="zelig_ls.html">least squares</a>.</p>
<div id="syntax" class="section level2">
<h2 class="hasAnchor">
<a href="#syntax" class="anchor"></a>Syntax</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(Y <span class="op">~</span><span class="st"> </span>X1 <span class="op">+</span><span class="st"> </span>X2, <span class="dt">below =</span> <span class="dv">0</span>, <span class="dt">above =</span> <span class="ot">Inf</span>, <span class="dt">model =</span> <span class="st">"tobit"</span>, <span class="dt">weights =</span> w, <span class="dt">data =</span> mydata)
x.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/setx.html">setx</a></span>(z.out)
s.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sim.html">sim</a></span>(z.out, <span class="dt">x =</span> x.out)</code></pre></div>
</div>
<div id="inputs" class="section level2">
<h2 class="hasAnchor">
<a href="#inputs" class="anchor"></a>Inputs</h2>
<p><code><a href="../reference/zelig.html">zelig()</a></code> accepts the following arguments to specify how the dependent variable is censored.</p>
<ul>
<li><p><code>below</code>: (defaults to 0) The point at which the dependent variable is censored from below. If any values in the dependent variable are observed to be less than the censoring point, it is assumed that that particular observation is censored from below at the observed value. (See also the <a href="zelig_tobitbayes.html">Bayesian implementation</a> which supports both left and right censoring.)</p></li>
<li><p><code>robust</code>: defaults to FALSE. If TRUE, zelig() computes robust standard errors based on sandwich estimators (see and ) and the options selected in cluster.</p></li>
<li><p>cluster: if robust = TRUE, you may select a variable to define groups of correlated observations. Let x3 be a variable that consists of either discrete numeric values, character strings, or factors that define strata. Then</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(y <span class="op">~</span><span class="st"> </span>x1 <span class="op">+</span><span class="st"> </span>x2, <span class="dt">robust =</span> <span class="ot">TRUE</span>, <span class="dt">cluster =</span> <span class="st">"x3"</span>,
                        <span class="dt">model =</span> <span class="st">"tobit"</span>, <span class="dt">data =</span> mydata)</code></pre></div>
<p>means that the observations can be correlated within the strata defined by the variable x3, and that robust standard errors should be calculated according to those clusters. If robust = TRUE but cluster is not specified, zelig() assumes that each observation falls into its own cluster.</p>
<p>Zelig users may wish to refer to <code>help(survreg)</code> for more information.</p>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div id="basic-example" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-example" class="anchor"></a>Basic Example</h3>
<p>Attaching the sample dataset:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(tobin)</code></pre></div>
<p>Estimating linear regression using <code>tobit</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/zelig.html">zelig</a></span>(durable <span class="op">~</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>quant, <span class="dt">model =</span> <span class="st">"tobit"</span>, <span class="dt">data =</span> tobin)</code></pre></div>
<pre><code>## How to cite this model in Zelig:
##   Christian Kleiber, and Achim Zeileis. 2011.
##   tobit: Linear regression for Left-Censored Dependent Variable
##   in Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, and Olivia Lau,
##   "Zelig: Everyone's Statistical Software," http://zeligproject.org/</code></pre>
<p>Summarize estimated paramters:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(z.out)</code></pre></div>
<pre><code>## Model: 
## 
## Call:
## z5$zelig(formula = durable ~ age + quant, data = tobin)
## 
## Observations:
##          Total  Left-censored     Uncensored Right-censored 
##             20             13              7              0 
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept) 15.14487   16.07945   0.942    0.346
## age         -0.12906    0.21858  -0.590    0.555
## quant       -0.04554    0.05825  -0.782    0.434
## Log(scale)   1.71785    0.31032   5.536  3.1e-08
## 
## Scale: 5.573 
## 
## Gaussian distribution
## Number of Newton-Raphson Iterations: 3 
## Log-likelihood: -28.94 on 4 Df
## Wald-statistic: 1.124 on 2 Df, p-value: 0.57002 
## 
## Next step: Use 'setx' method</code></pre>
<p>Setting values for the explanatory variables to their sample averages:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x.out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/setx.html">setx</a></span>(z.out)</code></pre></div>
<p>Simulating quantities of interest from the posterior distribution given <code>x.out</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s.out1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sim.html">sim</a></span>(z.out, <span class="dt">x =</span> x.out)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(s.out1)</code></pre></div>
<pre><code>## 
##  sim x :
##  -----
## ev
##       mean        sd      50%      2.5%    97.5%
## 1 1.534273 0.6350075 1.451001 0.5103966 3.042459
## pv
##          mean       sd      50% 2.5%    97.5%
## [1,] 3.002031 4.027547 1.310886    0 13.19713</code></pre>
</div>
<div id="simulating-first-differences" class="section level3">
<h3 class="hasAnchor">
<a href="#simulating-first-differences" class="anchor"></a>Simulating First Differences</h3>
<p>Set explanatory variables to their default(mean/mode) values, with high (80th percentile) and low (20th percentile) liquidity ratio (<code>quant</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x.high &lt;-<span class="st"> </span><span class="kw"><a href="../reference/setx.html">setx</a></span>(z.out, <span class="dt">quant =</span> <span class="kw">quantile</span>(tobin<span class="op">$</span>quant, <span class="dt">prob =</span> <span class="fl">0.8</span>))
x.low &lt;-<span class="st"> </span><span class="kw"><a href="../reference/setx.html">setx</a></span>(z.out, <span class="dt">quant =</span> <span class="kw">quantile</span>(tobin<span class="op">$</span>quant, <span class="dt">prob =</span> <span class="fl">0.2</span>))</code></pre></div>
<p>Estimating the first difference for the effect of high versus low liquidity ratio on duration( <code>durable</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s.out2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sim.html">sim</a></span>(z.out, <span class="dt">x =</span> x.high, <span class="dt">x1 =</span> x.low)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(s.out2)</code></pre></div>
<pre><code>## 
##  sim x :
##  -----
## ev
##       mean        sd      50%      2.5%    97.5%
## 1 1.167931 0.7337131 1.030031 0.1629001 2.929642
## pv
##          mean       sd       50% 2.5%    97.5%
## [1,] 2.808371 4.002763 0.9649713    0 13.53341
## 
##  sim x1 :
##  -----
## ev
##       mean        sd      50%      2.5%    97.5%
## 1 2.037927 0.9616189 1.909788 0.5752316 4.217732
## pv
##          mean       sd      50% 2.5%    97.5%
## [1,] 3.670113 4.446672 2.242544    0 15.69732
## fd
##        mean       sd       50%      2.5%    97.5%
## 1 0.8699962 1.166879 0.8246356 -1.335144 3.159152</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(s.out1)</code></pre></div>
<div class="figure">
<img src="zelig_tobit_files/figure-html/Zelig-tobit-1.png" alt="Graphs of Quantities of Interest for Zelig-tobit" width="672"><p class="caption">
Graphs of Quantities of Interest for Zelig-tobit
</p>
</div>
</div>
</div>
<div id="model" class="section level2">
<h2 class="hasAnchor">
<a href="#model" class="anchor"></a>Model</h2>
<ul>
<li>Let <span class="math inline">\(Y_i^*\)</span> be a latent dependent variable which is distributed with <em>stochastic</em> component</li>
</ul>
<p><span class="math display">\[
    \begin{aligned}
        Y_i^* &amp; \sim &amp; \textrm{Normal}(\mu_i, \sigma^2) \\\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(\mu_i\)</span> is a vector means and <span class="math inline">\(\sigma^2\)</span> is a scalar variance parameter. <span class="math inline">\(Y_i^*\)</span> is not directly observed, however. Rather we observed <span class="math inline">\(Y_i\)</span> which is defined as:</p>
<p><span class="math display">\[
    Y_i = \left\{
        \begin{array}{lcl}
      Y_i^*  &amp;\textrm{if} &amp; c &lt;Y_i^* \\
      c    &amp;\textrm{if} &amp; c \ge Y_i^*
      \end{array}\right.
\]</span></p>
<p>where <span class="math inline">\(c\)</span> is the lower bound below which <span class="math inline">\(Y_i^*\)</span> is censored.</p>
<ul>
<li>The <em>systematic component</em> is given by</li>
</ul>
<p><span class="math display">\[
    \begin{aligned}
        \mu_{i} &amp;=&amp; x_{i} \beta,\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(x_{i}\)</span> is the vector of <span class="math inline">\(k\)</span> explanatory variables for observation <span class="math inline">\(i\)</span> and <span class="math inline">\(\beta\)</span> is the vector of coefficients.</p>
</div>
<div id="quantities-of-interest" class="section level2">
<h2 class="hasAnchor">
<a href="#quantities-of-interest" class="anchor"></a>Quantities of Interest</h2>
<ul>
<li>The expected values (<code>qi$ev</code>) for the tobit regression model are the same as the expected value of <span class="math inline">\(Y*\)</span>:</li>
</ul>
<p><span class="math display">\[
    E(Y^* | X) = \mu_{i} = x_{i} \beta
\]</span></p>
<ul>
<li>The first difference (<code>qi$fd</code>) for the tobit regression model is defined as</li>
</ul>
<p><span class="math display">\[
    \begin{aligned}
        \text{FD}=E(Y^* \mid x_{1}) - E(Y^* \mid x).\end{aligned}
\]</span></p>
<ul>
<li>In conditional prediction models, the average expected treatment effect (<code>qi$att.ev</code>) for the treatment group is</li>
</ul>
<p><span class="math display">\[
    \begin{aligned}
        \frac{1}{\sum t_{i}}\sum_{i:t_{i}=1}[E[Y^*_{i}(t_{i}=1)]-E[Y^*_{i}(t_{i}=0)]],\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(t_{i}\)</span> is a binary explanatory variable defining the treatment (<span class="math inline">\(t_{i}=1\)</span>) and control (<span class="math inline">\(t_{i}=0\)</span>) groups.</p>
</div>
<div id="output-values" class="section level2">
<h2 class="hasAnchor">
<a href="#output-values" class="anchor"></a>Output Values</h2>
<p>The Zelig object stores fields containing everything needed to rerun the Zelig output, and all the results and simulations as they are generated. In addition to the summary commands demonstrated above, some simply utility functions (known as <em>getters</em>) provide easy access to the raw fields most commonly of use for further investigation.</p>
<p>In the example above <code>z.out$get_coef()</code> returns the estimated coefficients, <code>z.out$get_vcov()</code> returns the estimated covariance matrix, and <code>z.out$get_predict()</code> provides predicted values for all observations in the dataset from the analysis.</p>
</div>
<div id="see-also" class="section level2">
<h2 class="hasAnchor">
<a href="#see-also" class="anchor"></a>See also</h2>
<p>The tobit function is part of the survival library by Terry Therneau, ported to R by Thomas Lumley. Advanced users may wish to refer to <code>help(survfit)</code> in the survival library.</p>
<p>Kleiber C and Zeileis A (2008). <em>Applied Econometrics with R</em>. Springer-Verlag, New York. ISBN 978-0-387-77316-2, &lt;URL: <a href="https://CRAN.R-project.org/package=AER" class="uri">https://CRAN.R-project.org/package=AER</a>&gt;.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#syntax">Syntax</a></li>
      <li><a href="#inputs">Inputs</a></li>
      <li><a href="#examples">Examples</a></li>
      <li><a href="#model">Model</a></li>
      <li><a href="#quantities-of-interest">Quantities of Interest</a></li>
      <li><a href="#output-values">Output Values</a></li>
      <li><a href="#see-also">See also</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, Olivia Lau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
